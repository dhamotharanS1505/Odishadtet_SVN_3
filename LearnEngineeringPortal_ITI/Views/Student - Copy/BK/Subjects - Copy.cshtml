
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_StudentLearnEnggSubjectLayout.cshtml";
}
<!DOCTYPE html>
<html>
<head>
    <title>HTML Display</title>
</head>
<body>
    <div style="margin-top:10px">
        <!-- Store ViewBag data in a hidden element -->
        <input type="hidden" id="hiddenMessage" value="@ViewBag.HtmlContent" />
        @*<div style="margin-top:150px" id="htmlContainer"></div>*@

        @*<div>
            <input type="button" value="Go to Dashboard" src="~/student/Dashboard"/>
        </div>*@

        <div>
            @*<iframe id="htmlContainer" width="100%" height="600px" style="border: none;"></iframe>*@
            <iframe id="myIframe" width="100%" height="600px" ></iframe>

        </div>
        
    </div>
    <script>


        $(document).ready(function () {
            //var imageName = $(this).attr('data-name');
            imageName = "index.html";
            var message = $("#hiddenMessage").val();
           alert("ViewBag Message: " + message);
            //window.location.href = "/Student/PrivatePage?fileName=" + imageName;

           ////$('#htmlContainer').attr('src', '/Student/PrivatePage?fileName=' + message);



           var baseUrl = "http://localhost:8081/Student/odskills/OD-CO-VLS-24-004/"; // Change this to your actual base URL
           var iframeContent = "<base href=" + baseUrl + ">< body ><img src='/Student/PrivatePage?fileName='" + message +"><div>Hello</div></body>";

           $("#myIframe").attr("srcdoc", iframeContent);



            //$('#your_base_url').attr('href', '/Student/PrivatePage?fileName=' + message);

            //$.ajax({
            //    type: 'GET',
            //    url: '/Student/PrivatePage?fileName=' + message,
            //    //dataType: 'json',
            //    //crossOrigin: true,
            //    success: function (response) {
            //        //var encodedHtml = encodeURIComponent(response);
            //        //alert(encodedHtml);
            //        //$('#showimage').hide();
            //        var container = $('#htmlContainer');
            //        container.empty();
            //        container.append(response);

            //        //$("#htmlContainer").html(response);
            //        //window.location.href = "/Student/Subjects?fileName=" + response;
            //        //window.location.href = "/Student/Subjects??fileName=" + encodedHtml;

            //    },
            //    error: function (result) {
            //        alert("Error");
            //    }
            //});
        });

    </script>
</body>
</html>